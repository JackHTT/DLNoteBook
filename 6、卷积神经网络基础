主要介绍卷积层和池化层，填充、步幅、输入通道和输出通道

一、二维卷积层
二维互相关（cross-correlation）运算的输入是一个二维输入数组和一个二维核(kernel)数组(通常被称为卷积核或过滤器(filter))

卷积核的尺寸通常小于输入数组，卷积核在输入数组上滑动，在每个位置上，卷积核与该位置处的输入子数组按元素相乘并求和。

设输入数组的大小为(H,W)，卷积核的大小为(h,w)，故进行卷积核运算后输出数组的大小为(H-h+1,W-w+1)

二维卷积层将输入和卷积核做互相关运算，并加上一个标量偏置来得到输出。卷积层的模型参数包括卷积核和标量偏置。

二、互相关运算与卷积运算
我们将核数组上下翻转、左右翻转，再与输入数组做互相关运算，这一过程就是卷积运算。
由于卷积层的参数是可学习的，所以使用互相关运算与使用卷积运算并无本质区别。

三、特征图与感受野
二维卷积层输出的二维数组可以看做是输入在空间维度（宽和高）上某一级的表征，也叫特征图。
影响元素X的前向计算的所有可能输入区域（可能大于输入的实际尺寸）叫做x的感受野。

我们可以通过更深的卷积神经网络使特征图中单个元素的感受野变得更加广泛，从而捕捉输入上更大尺寸的特征。

四、填充和步幅
卷积层的两个超参数：填充和步幅。它们可以对给定的输入和卷积核改变输出形状。

填充是指在输入高和宽的两侧填充元素（通常是0元素）
我们在卷积核中使用奇数高宽的核，比如3*3,5*5的卷积核，对于高度（或宽度）为大小2k+1的核，令步幅为1，
在高（或宽）两侧选择大小为k的填充，便可保证输入与输出尺寸相同。也就是说通过填充能保证输入数组和输出数组的位数相等。

步幅：在互相关运算中，卷积核在输入数组上滑动，每次滑动的行数与列数即是步幅(stride)，此前我们选择的步幅为1.

五、多输入通道和多输出通道
真实数据的维度经常更高，例如，彩色图像在高和宽2个维度外还有RGB（红、绿、蓝）三个颜色通道，我们将大小为3的这一维称为通道（channel）维

多输入通道：卷积层的输入可以包含多个通道，此时卷积核也是多通道组成的，我们为每个输入通道各分配一个核数组，最后将多个通道互相关计算得到的输出数组相加。
多输出通道：卷积层的输出也可以包含多个通道，此时卷积核会在多输入通道基础上再增加一个维度，可以理解为不同的核数组提取的时不同的特征。

六、1*1卷积层
形状为1*1的卷积核，这样的卷积运算为1*1卷积，称包含这种卷积核的卷积层为1*1卷积层。
1*1卷积核可在不改变高宽的情况下，调整通道数。
假设我们将通道维当做特征维，将高和宽维度上的元素当成数据样本，那么1*1卷积层的作用与全连接层等价。

七、卷积层与全连接层的对比
二维卷积层经常用于处理图像，与此前的全连接层相比，它主要有两个优势：
1、输入图像上相邻的元素可能因为展平操作不再相邻，网络难以捕捉局部信息。而卷积层的设计，天然的具有提取局部信息的能力。
2、卷积层的参数量更少。卷积核的参数数量与输入图像的宽高无关，而全连接层的参数与输入输出形状相关。

池化
二维池化层
池化层主要用于缓解卷积层对位置的过度敏感性。同卷积层一样，池化层每次对输入数据的一个固定形状窗口（又称池化窗口）中的元素计算输出，
池化层直接计算池化窗口内元素的最大值或者平均值，该运算也分别叫做最大池化或平均池化。

池化层也可以在输入的高和宽两侧填充并调整窗口的移动步幅来改变输出形状。池化层填充和步幅与卷积层填充和步幅的工作机制一样。
在处理多通道输入数据时，池化层对每个输入通道分别池化，但不会像卷积层那样将各通道的结果按通道相加。这意味着池化层的输出通道数与输入通道数相等。
